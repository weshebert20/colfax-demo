// Denver Post: Recirculation Widgets
//
// Content recirculation widgets provided by Outbrain, etc.
//
// markup:
// <div class="recirc">
// 	<div class="OUTBRAIN">
// 		<div class="external-features ob-strip-layout AR_1">
// 			<div class="ob-widget-header">From Around the Web</div>
// 			<ul class="ob-widget-items-container">
// 				<li class="ob-dynamic-rec-container ob-recIdx-0">
//					<article class="archive-view">
//						<figure>
//							<a href="#"><img src="http://lorempixel.com/380/214/cats" alt="article-image"></a>
//						</figure>
//						<header>
//							<h6 class="ob-rec-text"><a href="#">Here's Why You Should Stop 'Googling' Names for Info</a></h6>
// 							<a href="#" class="ob-rec-source">BeenVerified.com</a>
//						</header>
//					</article>
//				</li>
// 				<li class="ob-dynamic-rec-container ob-recIdx-1">
//					<article class="archive-view">
//						<figure>
//							<a href="#"><img src="http://lorempixel.com/380/214/cats" alt="article-image"></a>
//						</figure>
//						<header>
//							<h6 class="ob-rec-text"><a href="#">A 10 Warthog Attack Run</a></h6>
// 							<a href="#" class="ob-rec-source">YouTube</a>
//						</header>
//					</article>
//				</li>
// 				<li class="ob-dynamic-rec-container ob-recIdx-2">
//					<article class="archive-view">
//						<figure>
//							<a href="#"><img src="http://lorempixel.com/380/214/cats" alt="article-image"></a>
//						</figure>
//						<header>
//							<h6 class="ob-rec-text"><a href="#">You'll Never Believe These 6 Facts About Bonnie and Clyde</a></h6>
// 							<a href="#" class="ob-rec-source">Ancestry</a>
//						</header>
//					</article>
//				</li>
//			</ul>
// 			<ul class="ob-widget-items-container">
// 				<li class="ob-dynamic-rec-container ob-recIdx-3">
//					<article class="archive-view">
//						<figure>
//							<a href="#"><img src="http://lorempixel.com/380/214/cats" alt="article-image"></a>
//						</figure>
//						<header>
//							<h6 class="ob-rec-text"><a href="#">Here's Why You Should Stop 'Googling' Names for Info</a></h6>
// 							<a href="#" class="ob-rec-source">BeenVerified.com</a>
//						</header>
//					</article>
//				</li>
// 				<li class="ob-dynamic-rec-container ob-recIdx-4">
//					<article class="archive-view">
//						<figure>
//							<a href="#"><img src="http://lorempixel.com/380/214/cats" alt="article-image"></a>
//						</figure>
//						<header>
//							<h6 class="ob-rec-text"><a href="#">A 10 Warthog Attack Run</a></h6>
// 							<a href="#" class="ob-rec-source">YouTube</a>
//						</header>
//					</article>
//				</li>
// 				<li class="ob-dynamic-rec-container ob-recIdx-5">
//					<article class="archive-view">
//						<figure>
//							<a href="#"><img src="http://lorempixel.com/380/214/cats" alt="article-image"></a>
//						</figure>
//						<header>
//							<h6 class="ob-rec-text"><a href="#">You'll Never Believe These 6 Facts About Bonnie and Clyde</a></h6>
// 							<a href="#" class="ob-rec-source">Ancestry</a>
//						</header>
//					</article>
//				</li>
//			</ul>
//		</div>
// 		<div class="ob-classic-layout AR_2">
// 			<div class="ob-widget-section">
// 				<div class="ob-widget-header">More From Section</div>
// 				<ul class="ob-widget-items-container">
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">YouTube</a> <a href="#" class="ob-rec-source">YouTube</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Would You Step In?</a> <a href="#" class="ob-rec-source">YouTube</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Ever Googled Yourself? A Popular Website Reveals More Than Major Search Engines…</a> <a href="#" class="ob-rec-source">Instant Checkmate</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Helping Students with Emotional and Behavioral Disabilities Part 1</a> <a href="#" class="ob-rec-source">Pearson</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Identical twins who speak 9 languages and understand a dozen more!</a> <a href="#" class="ob-rec-source">Babbel</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">I Hate the Open-Plan Kitchen—and Amazingly, I’m No Longer the Only One</a> <a href="#" class="ob-rec-source">Realtor.com</a></li>
// 				</ul>
// 			</div>
// 			<div class="ob-widget-section ob-last">
// 				<div class="ob-widget-header">You Might Also Like</div>
//				<ul class="ob-widget-items-container">
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">New Ulm pastor arrested in prostitution sting</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Gophers basketball no longer in mix for center Chris Obekpa</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Wisconsinite, 21, severely injured in river jump near Red Wing</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Oakdale man gets 14 years for putting daughter in coma</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Bloomington SuperAmerica accuser wasn't in store that day, police say</a></li>
//					<li class="ob-dynamic-rec-container"><a class="ob-rec-text" href="#">Bon Iver makes triumphant homecoming at Eaux Claires festival</a></li>
//				</ul>
// 			</div>
// 		</div>
// 	</div>
//	<div class="ob-logo">
//		<span>Recommended by</span>
//		<img width="150px" src="http://logonoid.com/images/outbrain-logo.png">
//	</div>
// </div>
//
// Styleguide article.recirc

/* stylelint-disable declaration-no-important */
.recirc {

	.ob_container_recs {
		@extend %clearfix;
	}

	.OUTBRAIN {

		.AR_1 {

			.obpd_header,
			.ob_org_header {
				display: block;
				left: 0;
				position: relative;
				width: 100%;

				span {
					@include font(14, 16, $widget, 500);
					position: absolute;
					right: 0;
					text-transform: uppercase;
					top: em-calc(25, false, 14);
				}
			}

			.ob_dual_left,
			.ob_what {
				margin-bottom: spacing(2);
			}

			.ob_dual_left,
			.ob_dual_right {
				float: left;
				width: 100% !important; // They have inline styles we need to override.
			}

			.odb_div {
				height: auto !important; // Again, inline styles. Pretty sad, I know.
				margin-left: 0;

				@include ai-breakpoint(s) {

					&.ob-recIdx-2,
					&.ob-recIdx-5,
					&.ob-recIdx-8 {
						margin-right: 0;
					}
				}
			}
		}

		.AR_2 {

			.ob_container_recs {
				position: relative;
			}

			.item-link-container {

				@include ai-breakpoint(s) {

					&:nth-child(3n) {
						margin-right: 0;
					}
				}
			}

			.item-container {
				margin-bottom: 0;
				padding: 0;
				width: 100%;
			}
		}

		.AR_1,
		.AR_2 {

			@include ai-breakpoint(false, s) {
				margin-left: em-calc(-16);
				width: calc(100% + #{em-calc(32)});
			}

			h1 {
				@extend %section-highlight-alt;
				border-bottom: 0;
				border-top: 5px solid $gray-min;
				color: $primary;
				font: 600 em-calc(18)/1 $meta !important;
				margin-bottom: 0;
				padding: em-calc(20 0, false, 18);
			}

			.ob-text-content {
				padding-top: 0;

				.strip-rec-link-source {
					font-size: 16px;
				}

				a,
				.strip-rec-link-title {
					color: $text !important;
					font-family: $heading !important;
					line-height: 1.25 !important;
					font-size: em-calc(20) !important;
					font-weight: 700 !important;

					&:hover {
						color: $primary;
						text-decoration: none;
					}
				}

				a,
				.ob_source {
					display: inline-block;
					width: 100%;
				}
			}

			.ob_source {
				@include font(13, 15, $meta, 400);
				color: $gray-400;
				margin: em-calc(8 0);
			}

			.ob-rec-link-img {
				height: 0;
				margin-bottom: 0;
				overflow: hidden;
				padding-bottom: 56.25%;
				position: relative;
				width: 100%;

				img {
					height: auto;
					left: 0;
					position: absolute;
					top: 0;
					width: 100%;
				}
			}

			.odb_div,
			.item-link-container {
				@include ai-span(16/3, xl);
				@include ai-span(13/3, l);
				@include ai-span(10/3, m);
				@include ai-span(8/3, s);
				@include ai-span(2, xs);
				margin-bottom: spacing();
				max-width: none;

				@include ai-breakpoint(s) {

					li {
						margin-bottom: 0;
					}

					&.ob-recIdx-0,
					&.ob-recIdx-3,
					&.ob-recIdx-6 {
						clear: left !important;
					}

					&.ob-recIdx-2,
					&.ob-recIdx-5,
					&.ob-recIdx-8 {
						margin-right: 0;
					}
				}

				@include ai-breakpoint(false, s) {
					margin-bottom: spacing(1.5);

					&.ob-even {
						margin-right: 0;
					}

					&.ob-odd {
						clear: left;
					}
				}
			}

			.ob_container_shadow_outer {
				display: none;
			}
		}
	}
}
/* stylelint-enable */
